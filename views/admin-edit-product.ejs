<%- include('partials/admin-header.ejs'); -%>
    <style>
        .admin-main {
            padding: 20px;
            max-width: 800px;
            margin: auto;
        }

        fieldset {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
        }

        legend {
            font-weight: bold;
        }

        label {
            display: block;
            margin-top: 10px;
        }

        input,
        textarea,
        select {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        button {
            background-color: #007bff;
            color: white;
            padding: 10px;
            font-size: 16px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            width: 100%;
        }

        button:hover {
            background-color: #0056b3;
        }
    </style>
    <main class="admin-main">
        <h1>C·∫≠p nh·∫≠t s·∫£n ph·∫©m</h1>

        <form id="updateProductForm" action="/admin/product/edit/<%= product.id %>" method="POST" enctype="multipart/form-data">
            <!-- Th√¥ng tin c∆° b·∫£n -->
            <fieldset>
                <legend>Th√¥ng tin s·∫£n ph·∫©m</legend>
                <label for="name">T√™n s·∫£n ph·∫©m:</label>
                <input type="text" id="name" name="name" value="<%= product.name %>" required>

                <label for="description">M√¥ t·∫£:</label>
                <textarea id="description" name="description" required><%= product.description %></textarea>

                <label for="price">Gi√° (VNƒê):</label>
                <input type="number" id="price" name="price" min="0" value="<%= product.price %>" required>

                <label for="category">Danh m·ª•c:</label>
                <select id="category" name="category_id" required>
                    <option value="">Ch·ªçn danh m·ª•c</option>
                    <% categories.forEach(category => { %>
                        <option value="<%= category.id %>" <%= category.id === product.category_id ? 'selected' : '' %>>
                            <%= category.name %>
                        </option>
                    <% }) %>
                </select>

                <label for="stock">S·ªë l∆∞·ª£ng t·ªìn kho:</label>
                <input type="number" id="stock" name="stock" min="0" value="<%= product.stock %>" required>

                <label for="image">·∫¢nh ƒë·∫°i di·ªán s·∫£n ph·∫©m (hi·ªán t·∫°i):</label>
                <img src="<%= product.image %>" alt="·∫¢nh s·∫£n ph·∫©m" style="width: 100px; height: auto;">
                <input type="file" id="image" name="image" accept="image/*">
            </fieldset>

            <!-- Chi ti·∫øt s·∫£n ph·∫©m -->
            <fieldset>
                <legend>Chi ti·∫øt s·∫£n ph·∫©m</legend>
                <label for="specifications">Th√¥ng s·ªë k·ªπ thu·∫≠t:</label>
                <textarea id="specifications" name="specifications"><%= productDetails.specifications %></textarea>

                <label for="warranty">B·∫£o h√†nh:</label>
                <input type="text" id="warranty" name="warranty" value="<%= productDetails.warranty %>">

                <label for="usage_instructions">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng:</label>
                <textarea id="usage_instructions" name="usage_instructions"><%= productDetails.usage_instructions %></textarea>

                <label for="additional_info">Th√¥ng tin b·ªï sung:</label>
                <textarea id="additional_info" name="additional_info"><%= productDetails.additional_info %></textarea>
            </fieldset>

            <!-- H√¨nh ·∫£nh s·∫£n ph·∫©m -->
            <fieldset>
                <legend>C·∫≠p nh·∫≠t h√¨nh ·∫£nh s·∫£n ph·∫©m</legend>
                
                <% productImages.forEach(i => { %>
                    <div style="display: inline-block; text-align: center; margin-right: 10px;">
                        <img src="<%= i.image_url %>" alt="·∫¢nh s·∫£n ph·∫©m" style="width: 100px; height: auto;">
                    </div>
                <% }) %>
                <label for="product_images">Ch·ªçn ·∫£nh s·∫£n ph·∫©m m·ªõi:</label>
                <input type="file" id="product_images" name="product_images" accept="image/*" multiple>
            </fieldset>
            

            <button type="submit">üîÑ C·∫≠p nh·∫≠t s·∫£n ph·∫©m</button>
        </form>
    </main>

    <%- include('partials/admin-footer.ejs'); -%>